(()=>{"use strict";var t,e={467:(t,e,o)=>{o.r(e)},303:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),o(467);(new(r(o(149)).default)).run()},149:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(o(329)),c=r(o(82)),a=r(o(962)),i=r(o(166)),s=r(o(432)),l=r(o(512)),d=o(972),u=o(526);class p{static renderNewPage(){const t=document.querySelector(".content");t&&(t.innerHTML="");const e=window.location.hash.slice(1);let o=null;const r=e.split("/");if(""===r[0]?o=new n.default(e):"main-page"===r[0]?function(t){switch(t[t.length-1]){case"main-page":case d.Filters.Default:case d.Filters.PriceUp:case d.Filters.PriceDown:case d.Filters.DiscountUp:case d.Filters.DiscountDown:case d.Filters.RatingUp:case d.Filters.RatingDown:o=new n.default(e);break;default:o=new s.default(e,404)}}(r):o="description-page"===r[0]?new c.default(r[0],r[1]):"cart-page"===e?new a.default(e):new s.default(e,404),o&&t){return o.render()}}enableRouteChange(){window.addEventListener("hashchange",(()=>{p.renderNewPage()}))}constructor(){this.initialPage=new n.default("main-page"),this.header=new i.default("header"),this.footer=new l.default("footer")}run(){p.root&&this.initialPage&&(p.renderNewPage(),this.header.render(),this.footer.render(),this.enableRouteChange(),(0,u.listener)())}}p.root=document.querySelector(".root"),e.default=p},512:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(o(291));class c extends n.default{constructor(t){super(t)}renderFooter(){const t=document.createElement("div");t.className="footer__github";const e=document.createElement("a");e.className="footer__github-link",e.href="https://github.com/shipu4ka",e.textContent="shipu4ka";const o=document.createElement("a");o.className="footer__github-link",o.href="https://github.com/Elena-MyOne",o.textContent="Elena-MyOne",t.append(e,o);const r=document.createElement("time");r.className="footer__date",r.innerText="2023";const n=document.createElement("a");n.className="footer__rss-link",n.href="https://rs.school/js/";const c=document.createElement("img");c.className="footer__rss-img",c.src="../assets/icons/rslogo-w.svg",c.alt="RSS logo",n.append(c),this.element.append(t,r,n)}render(){return this.renderFooter(),this.element}}e.default=c},166:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(o(291)),c=o(720),a=[{id:"main-page",text:'<img src="../../assets/icons/logo.svg" alt="Home page">'},{id:"confirm-page",text:"Confirm"},{id:"cart-page",text:'<img src="../../assets/icons/cart_empty.svg" alt="Cart">'}];class i extends n.default{constructor(t){super(t)}createNavElement(t){const e=this.createComponentBlock("a","header__link");return e.href=`#${a[t].id}`,e.innerHTML=a[t].text,e}renderPageNav(){const t=JSON.parse(localStorage.getItem(c.LocalStorageKey.productsInCart)||"{}"),e=Object.values(t),o=e.reduce(((t,e)=>t+e.count*e.product.price),0),r=e.reduce(((t,e)=>t+e.count),0),n=document.createElement("nav");n.classList.add("header__nav"),n.classList.add("container");const a=this.createNavElement(0),i=this.createNavElement(1),s=this.createNavElement(2),l=this.createComponentBlock("div","header__sum"),d=this.createComponentBlock("span","header__sum-text"),u=this.createComponentBlock("span","header__sum-total");d.textContent="Cart total: $",u.textContent=String(o),l.append(d,u);const p=this.createComponentBlock("div","header__total");p.textContent=String(r),n.append(a,l,i,s,p),this.element.append(n)}render(){return this.renderPageNav(),this.element}}e.default=i},972:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FiltersId=e.Filters=void 0,function(t){t.Default="default",t.PriceUp="price-up",t.PriceDown="price-down",t.DiscountUp="discount-up",t.DiscountDown="discount-down",t.RatingUp="rating-up",t.RatingDown="rating-down"}(e.Filters||(e.Filters={})),function(t){t[t.Default=0]="Default",t[t.PriceUp=1]="PriceUp",t[t.PriceDown=2]="PriceDown",t[t.DiscountUp=3]="DiscountUp",t[t.DiscountDown=4]="DiscountDown",t[t.RatingUp=5]="RatingUp",t[t.RatingDown=6]="RatingDown"}(e.FiltersId||(e.FiltersId={}))},720:(t,e)=>{var o;Object.defineProperty(e,"__esModule",{value:!0}),e.LocalStorageKey=void 0,function(t){t.AllProducts="https://dummyjson.com/products?limit=100",t.ProductsCategories="https://dummyjson.com/products/categories",t.Product="https://dummyjson.com/products"}(o||(o={})),function(t){t.productsInCart="productsInCart",t.limit="limit",t.arrDiscount="arrDiscount",t.currentPage="currentPage"}(e.LocalStorageKey||(e.LocalStorageKey={})),e.default=o},291:(t,e)=>{Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(t){this.element=document.querySelector(`.${t}`)}createComponentBlock(t,e){const o=document.createElement(t);return o.classList.add(e),o}render(){return this.element}}},395:function(t,e,o){var r=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))((function(n,c){function a(t){try{s(r.next(t))}catch(t){c(t)}}function i(t){try{s(r.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,i)}s((r=r.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const c=n(o(720));class a{constructor(t){this.main=document.querySelector(".content"),this.main&&(this.main.id=t)}createPageTitle(t){const e=this.createPageBlock("h1","title");return e.innerText=t,e}createPageBlock(t,e,o){const r=document.createElement(t);return r.classList.add(e),o&&r.classList.add(o),r}getPageData(){return r(this,void 0,void 0,(function*(){try{return yield fetch(c.default.AllProducts).then((t=>t.json()))}catch(t){throw new Error("Error: "+t)}}))}getProductById(t){return r(this,void 0,void 0,(function*(){try{return yield fetch(`${c.default.Product}/${t}`).then((t=>t.json()))}catch(t){throw new Error("Error: "+t)}}))}getProductsCategories(){return r(this,void 0,void 0,(function*(){try{return yield fetch(c.default.ProductsCategories).then((t=>t.json()))}catch(t){throw new Error("Error: "+t)}}))}render(){return this.main}}a.TextObject={},e.default=a},432:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=r(o(395));class c extends n.default{constructor(t,e){super(t),this.errorType=e}renderErrorPage(){var t;const e=this.createPageBlock("section","error","container"),o=this.createPageTitle(c.TextObject[this.errorType]);o.classList.add("error__title");const r=this.createPageBlock("h2","error__subtitle");r.textContent="Uh-Oh...";const n=this.createPageBlock("p","error__text");n.textContent="The page you are looking for may have been moved, deleted, or possibly never existed",e.append(o,r,n),null===(t=this.main)||void 0===t||t.append(e)}render(){return this.renderErrorPage(),this.main}}c.TextObject={404:"404"},e.default=c},962:function(t,e,o){var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const n=o(720),c=r(o(395));class a extends c.default{constructor(t){super(t)}renderCartPage(){var t;const e=this.createPageBlock("section","cart"),o=this.createPageBlock("div","cart__products","cart-products"),r=this.createPageBlock("div","cart__summary","summary"),c=this.createPageBlock("div","cart-products__header","products-header"),a=this.createPageBlock("div","cart-products__list","products-list"),i=this.createPageBlock("h2","products-header__title");i.textContent="Products in cart";const s=this.createPageBlock("label","products-header__parameter");s.textContent="limit:",s.htmlFor="item";let l=localStorage.getItem(n.LocalStorageKey.limit)||3,d=0;const u=this.createPageBlock("input","products-header__value");u.id="item",u.value=String(l),u.type="number",u.oninput=t=>{const e=t.target;localStorage.setItem(n.LocalStorageKey.limit,e.value),U()};const p=this.createPageBlock("label","products-header__parameter");p.textContent="page:",s.htmlFor="pagination";const g=this.createPageBlock("img","products-header__arrow");g.src="../assets/icons/arrow_reverse.svg",g.alt="Arrow",g.onclick=()=>{let t=localStorage.getItem(n.LocalStorageKey.currentPage)||1;if(t>1){const e=Number(t)-1;localStorage.setItem(n.LocalStorageKey.currentPage,`${e}`),U()}};const _=this.createPageBlock("input","products-header__pages");_.id="pagination",_.disabled=!0;const h=this.createPageBlock("img","products-header__arrow");h.src="../assets/icons/arrow.svg",h.alt="Arrow",h.onclick=()=>{let t=localStorage.getItem(n.LocalStorageKey.currentPage)||1;if(t<E()){const e=Number(t)+1;localStorage.setItem(n.LocalStorageKey.currentPage,`${e}`),U()}};const m=this.createPageBlock("h2","summary__title");m.textContent="Summary";const f=this.createPageBlock("p","summary__item");f.textContent="Products:";const P=this.createPageBlock("div","summary__quantity"),k=JSON.parse(localStorage.getItem(n.LocalStorageKey.productsInCart)||"{}"),v=Object.values(k),b=v.reduce(((t,e)=>t+e.count),0);P.textContent=String(b);const y=this.createPageBlock("p","summary__item");y.textContent="Total:";const S=this.createPageBlock("div","summary__amount"),B=v.reduce(((t,e)=>t+e.count*e.product.price),0);S.textContent=`$${B}`;const x=this.createPageBlock("span","summary__discount"),w=()=>{const t=JSON.parse(localStorage.getItem(n.LocalStorageKey.arrDiscount)||"[]"),e=JSON.parse(localStorage.getItem(n.LocalStorageKey.productsInCart)||"{}"),o=Object.values(e).reduce(((t,e)=>t+e.count*e.product.price),0);0===t.length?(x.classList.add("summary__discount_hidden"),S.textContent=`$${o}`,S.style.textDecoration="none"):(x.classList.remove("summary__discount_hidden"),x.textContent=`$${Math.round(o*(1-.1*t.length))}`,S.textContent=`$${o}`,S.style.textDecoration="line-through")};w();const C=this.createPageBlock("div","summary__promo","promo-block"),D=this.createPageBlock("button","summary__buy");D.textContent="Buy now",D.onclick=()=>{document.querySelector(".modal").style.display="block"};const O=this.createPageBlock("input","promo-block__code");O.placeholder="Enter promo code",O.type="string",O.oninput=t=>{var e,o;const r=t.target.value;"rs"===r||"sale"===r?(null===(e=document.querySelector(".promo-block__discount"))||void 0===e||e.classList.remove("promo-block__item_hidden"),null===(o=document.querySelector(".promo-block__options"))||void 0===o||o.classList.add("promo-block__item_hidden")):(L.classList.add("promo-block__item_hidden"),I.classList.remove("promo-block__item_hidden"))};const I=this.createPageBlock("p","promo-block__options");I.textContent="Available promo codes: 'rs', 'sale'.";const L=this.createPageBlock("div","promo-block__discount","promo-block__item_hidden");L.textContent="Your discount will be 10%";const F=this.createPageBlock("div","summary__applied","applied-block");F.classList.add("applied-block_hidden");const j=this.createPageBlock("ul","applied-block__list"),T=this.createPageBlock("h3","applied-block__title");T.textContent="Applied codes:";const M=this.createPageBlock("button","promo-block__btn");M.textContent="add",M.onclick=()=>{const t=JSON.parse(localStorage.getItem(n.LocalStorageKey.arrDiscount)||"[]");F.classList.remove("applied-block_hidden"),t.includes(O.value)||(t.push(O.value),localStorage.setItem(n.LocalStorageKey.arrDiscount,JSON.stringify(t))),L.classList.add("promo-block__item_hidden"),I.classList.remove("promo-block__item_hidden"),N(),w()};const N=()=>{const t=JSON.parse(localStorage.getItem(n.LocalStorageKey.arrDiscount)||"[]");j.innerHTML="",t.forEach((t=>{const e=this.createPageBlock("li","applied-block__code");e.textContent=`${t} -10%`;const o=this.createPageBlock("button","applied-block__btn");o.textContent="drop",e.append(o),j.append(e),O.value="",F.classList.remove("applied-block_hidden"),o.onclick=()=>{let e=JSON.parse(localStorage.getItem(n.LocalStorageKey.arrDiscount)||"[]");e=e.filter((e=>e!==t)),localStorage.setItem(n.LocalStorageKey.arrDiscount,JSON.stringify(e)),0===e.length&&F.classList.add("applied-block_hidden"),N(),w()}}))};N();const E=()=>{const t=JSON.parse(localStorage.getItem(n.LocalStorageKey.productsInCart)||"{}"),e=localStorage.getItem(n.LocalStorageKey.limit)||3,o=Object.keys(t);return Math.ceil(o.length/Number(e))},U=()=>{const t=JSON.parse(localStorage.getItem(n.LocalStorageKey.productsInCart)||"{}");a.innerHTML="";const e=localStorage.getItem(n.LocalStorageKey.limit)||3,o=E();let r=localStorage.getItem(n.LocalStorageKey.currentPage)||1;r>o&&(r=o),_.value=`${r}/${o}`;const c=Object.keys(t);if(0===c.length)a.textContent="Cart is Empty",a.style.textAlign="center";else{d=(Number(r)-1)*Number(e);let t=d+Number(e);t>c.length&&(t=c.length);for(let e=d;e<t;e++){const t=JSON.parse(localStorage.getItem(n.LocalStorageKey.productsInCart)||"{}")[c[e]],o=t.product,r=this.createPageBlock("div","product-list__item"),i=this.createPageBlock("p","product-list__index");i.textContent=`${e+1}`;const s=this.createPageBlock("img","product-list__photo");s.src=o.images[0],s.alt="Photo product";const l=this.createPageBlock("div","product-list__wrap","wrap-desc"),d=this.createPageBlock("div","product-list__wrap","wrap-qty"),u=this.createPageBlock("h3","product-list__title");u.textContent=o.title;const p=this.createPageBlock("div","product-list__info");p.textContent=o.description;const g=this.createPageBlock("p","product-list__rating");g.textContent=`Rating: ${o.rating}`;const _=this.createPageBlock("p","product-list__discount");_.textContent=`Discount: ${o.discountPercentage}`;const h=this.createPageBlock("p","product-list__stock");h.textContent=`Stock: ${o.stock}`;const m=this.createPageBlock("button","product-list__btn");m.textContent="+";const f=t=>{const e=JSON.parse(localStorage.getItem(n.LocalStorageKey.productsInCart)||"{}");"add"===t&&(e[o.id].count+=1),"drop"===t&&(e[o.id].count>1?e[o.id].count-=1:(delete e[o.id],U())),localStorage.setItem(n.LocalStorageKey.productsInCart,JSON.stringify(e));const r=Object.values(e),c=r.reduce(((t,e)=>t+e.count*e.product.price),0);S.textContent=`$${c}`;const a=r.reduce(((t,e)=>t+e.count),0);P.textContent=String(a);const i=document.querySelector(".header__total"),s=document.querySelector(".header__sum-total");i.textContent=String(a),s.textContent=String(c)};m.onclick=()=>{t.count<o.stock&&(f("add"),U(),w())};const k=this.createPageBlock("p","product-list__qty");k.textContent=String(t.count);const v=this.createPageBlock("button","product-list__btn");v.textContent="-",v.onclick=()=>{f("drop"),U(),w()};const b=this.createPageBlock("p","product-list__total");b.textContent="Total: $"+o.price*t.count,d.append(h,v,k,m,b),l.append(u,p,g,_),r.append(i,s,l,d),a.append(r)}}};U(),F.append(T,j),L.append(M),C.append(O,I,L),r.append(m,f,P,x,y,S,F,C,D),c.append(i,s,u,p,g,_,h),o.append(c,a),e.append(o,r),null===(t=this.main)||void 0===t||t.append(e)}render(){return this.renderCartPage(),this.main}}e.default=a},526:(t,e,o)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.listener=void 0;const r=o(720);e.listener=function(){document.getElementById("name"),document.getElementById("phone"),document.getElementById("email"),document.getElementById("delivery");const t=document.getElementById("card"),e=(document.getElementById("data"),document.getElementById("cvv"),document.querySelector(".credit-details__payment")),o=document.querySelector(".confirm__btn"),n=document.querySelector(".modal"),c=document.querySelector(".confirm__form");o.onclick=()=>{const t=c.innerHTML;c.innerHTML="Your order has been processed and shipped. Expect delivery.",c.style.textAlign="center",c.style.paddingTop="10px",o.style.display="none",setTimeout((()=>{window.location.hash="main-page",localStorage.setItem(r.LocalStorageKey.productsInCart,""),localStorage.setItem(r.LocalStorageKey.arrDiscount,"");const e=document.querySelector(".header__total"),a=document.querySelector(".header__sum-total");e.textContent="0",a.textContent="0",c.innerHTML=t,c.style.textAlign="left",c.style.paddingTop="0",o.style.display="block",n.style.display="none"}),3e3)},t.oninput=t=>{const o=t.target.value.slice(0,1);e.style.backgroundImage="4"===o?"url(./assets/images/visa_logo.png)":"5"===o?"url(./assets/images/master_card_logo.png)":"6"===o?"url(./assets/images/maestro_logo.jpg)":"url(./assets/images/mir_logo.jpg)"}}},82:function(t,e,o){var r=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))((function(n,c){function a(t){try{s(r.next(t))}catch(t){c(t)}}function i(t){try{s(r.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,i)}s((r=r.apply(t,e||[])).next())}))},n=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const c=n(o(395));class a extends c.default{constructor(t,e){super(t),this.productId=e}renderDescriptionPage(t){var e;const o=this.createPageBlock("section","description","container"),r=this.createPageBlock("nav","description__bread-crumbs","container"),n=this.createPageBlock("a","description__item");n.textContent="Store",n.href="#main-page";const c=this.createPageBlock("img","description__arrow");c.src="../assets/icons/arrow.svg",c.alt="Arrow";const a=this.createPageBlock("a","description__item");a.textContent=t.category;const i=this.createPageBlock("img","description__arrow");i.src="../assets/icons/arrow.svg",c.alt="Arrow";const s=this.createPageBlock("span","description__item");s.textContent=t.title;const l=this.createPageBlock("div","description__card-wrapper","container"),d=this.createPageBlock("h2","description__name");d.textContent=t.title;const u=this.createPageBlock("div","description__info","container"),p=this.createPageBlock("div","description__pictures"),g=this.createPageBlock("img","description__photo","description__photo_big");g.src=t.images[0],g.alt="Photo product";const _=this.createPageBlock("img","description__photo","description__photo_mini1");_.src=t.images[0]||"./assets/images/no_photo_images.png",_.classList.add("description__photo_active"),_.onclick=F,_.alt="Photo product";const h=this.createPageBlock("img","description__photo","description__photo_mini2");h.src=t.images[1]||"./assets/images/no_photo_images.png",h.onclick=F,h.alt="Photo product";const m=this.createPageBlock("img","description__photo","description__photo_mini3");m.src=t.images[2]||"./assets/images/no_photo_images.png",m.onclick=F,m.alt="Photo product";const f=this.createPageBlock("div","description__card-desc"),P=this.createPageBlock("div","description__about-product","container"),k=this.createPageBlock("p","description__desc-product");k.textContent=t.description;const v=this.createPageBlock("span","description__rating");v.textContent="Rating:";const b=this.createPageBlock("p","description__rating-value");b.textContent=String(t.rating);const y=this.createPageBlock("span","description__discount");y.textContent="Discount:";const S=this.createPageBlock("p","description__discount-value");S.textContent=String(t.discountPercentage);const B=this.createPageBlock("span","description__category");B.textContent=t.category;const x=this.createPageBlock("span","description__stock");x.textContent="Stock:";const w=this.createPageBlock("p","description__stock-value");w.textContent=String(t.stock);const C=this.createPageBlock("div","description__purchase"),D=this.createPageBlock("div","description__price");D.textContent=`$ ${t.price}`;const O=this.createPageBlock("button","description__add-cart");O.textContent="add to cart",O.onclick=()=>{const e=JSON.parse(localStorage.getItem("products_in_cart")||"{}");t.id in e?e[t.id].count+=1:e[t.id]={count:1,product:t};const o=Object.values(e),r=o.reduce(((t,e)=>t+e.count*e.product.price),0),n=o.reduce(((t,e)=>t+e.count),0);localStorage.setItem("products_in_cart",JSON.stringify(e));const c=document.querySelector(".header__total"),a=document.querySelector(".header__sum-total");c.textContent=String(n),a.textContent=String(r)};const I=this.createPageBlock("button","description__buy-now");I.textContent="buy now",I.onclick=()=>{document.querySelector(".modal").style.display="block"},r.append(n,c,a,i,s),p.append(g,_,h,m),P.append(k,v,b,y,S,x,w,B),C.append(D,O,I),f.append(P,C),u.append(p,f),l.append(d,u),o.append(r,l),null===(e=this.main)||void 0===e||e.append(o);const L=[_,h,m];function F(t){L.forEach((t=>t.classList.remove("description__photo_active")));const e=t.target;e.classList.add("description__photo_active"),g.src=e.src}}getProduct(){return r(this,void 0,void 0,(function*(){return yield this.getProductById(this.productId)}))}render(){return this.getProduct().then((t=>this.renderDescriptionPage(t))),this.main}}e.default=a},329:function(t,e,o){var r=this&&this.__createBinding||(Object.create?function(t,e,o,r){void 0===r&&(r=o);var n=Object.getOwnPropertyDescriptor(e,o);n&&!("get"in n?!e.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return e[o]}}),Object.defineProperty(t,r,n)}:function(t,e,o,r){void 0===r&&(r=o),t[r]=e[o]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var o in t)"default"!==o&&Object.prototype.hasOwnProperty.call(t,o)&&r(e,t,o);return n(e,t),e},a=this&&this.__awaiter||function(t,e,o,r){return new(o||(o=Promise))((function(n,c){function a(t){try{s(r.next(t))}catch(t){c(t)}}function i(t){try{s(r.throw(t))}catch(t){c(t)}}function s(t){var e;t.done?n(t.value):(e=t.value,e instanceof o?e:new o((function(t){t(e)}))).then(a,i)}s((r=r.apply(t,e||[])).next())}))},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});const s=i(o(395)),l=c(o(344));o(68);const d=o(972),u=o(720);class p extends s.default{constructor(t){super(t)}createCategoriesBlock(t,e,o,r){const n=this.createPageBlock("ul",t);return r.forEach((t=>{const r=this.createPageBlock("li",e),c=this.createPageBlock("label","filters__label"),a=this.createPageBlock("span","filters__label-text");a.textContent=t;const i=this.createPageBlock("input","filters__checkbox");i.setAttribute("type","checkbox");const s=this.createPageBlock("span","filters__total",o);s.textContent="0/0",c.append(i,a),r.append(c,s),n.append(r)})),n}createTitle(t){const e=this.createPageBlock("h2","filters__title","title");return e.textContent=t,e}getProducts(){return a(this,void 0,void 0,(function*(){return(yield this.getPageData()).products}))}getCategories(t){return a(this,void 0,void 0,(function*(){const e=yield this.getProductsCategories(),o=this.createPageBlock("div","filters__container"),r=this.createTitle("Category"),n=this.createCategoriesBlock("filters__categories","filters__category","filters__total-category",e);o.append(r,n),t.append(o)}))}getBrand(t){return a(this,void 0,void 0,(function*(){const e=yield this.getPageData(),o=this.createPageBlock("div","filters__container"),r=this.createTitle("Brand"),n=e.products,c=[];n.forEach((t=>{const e=t.brand.toLowerCase();c.push(e)}));const a=[...new Set(c)],i=this.createCategoriesBlock("filters__brands","filters__brand","filters__total-brand",a);o.append(r,i),t.append(o)}))}createMultiRangeSlider(t,e,o,r){const n=this.createPageBlock("div","filters__container"),c=this.createTitle(e),a=this.createPageBlock("div","filters__slider","slider"),i=this.createPageBlock("div","slider__body"),s=this.createPageBlock("div","slider__inputs"),d=this.createPageBlock("label","slider__label"),u=this.createPageBlock("span","slider__text");u.textContent="min: $";const p=this.createPageBlock("input","slider__input");p.setAttribute("type","number"),p.setAttribute("min",o),p.setAttribute("max",r),p.setAttribute("value",o),p.setAttribute("placeholder",o),p.setAttribute("id","input1");const g=this.createPageBlock("label","slider__label"),_=this.createPageBlock("span","slider__text"),h=this.createPageBlock("input","slider__input");h.setAttribute("type","number"),h.setAttribute("min",o),h.setAttribute("max",r),h.setAttribute("value",r),h.setAttribute("placeholder",r),h.setAttribute("id","input2"),_.textContent="max: $",l.create(i,{start:[o,r],connect:!0,step:1,range:{min:[Number(o)],max:[Number(r)]}}),i.noUiSlider&&i.noUiSlider.on("update",((t,e)=>{0===e&&(p.value=Math.round(Number(t[e])).toString()),1===e&&(h.value=Math.round(Number(t[e])).toString())})),[p,h].forEach(((t,e)=>{t.addEventListener("change",(t=>{let o=t.currentTarget,r=o.value;o&&i.noUiSlider&&i.noUiSlider.setHandle(e,r)}))})),d.append(u,p),g.append(_,h),s.append(d,g),a.append(i,s),n.append(c,a),t.append(n)}createFiltersButtons(t){return a(this,void 0,void 0,(function*(){let e=(yield this.getPageData()).products;const o=this.createPageBlock("button","filters__button");o.textContent="Reset Filters";const r=this.createPageBlock("button","filters__button");return r.textContent="Copy Link",t.append(o,r),o.addEventListener("click",(()=>{document.querySelector(".cards").dataset.filter=d.Filters.Default;document.querySelector(".cards__title").textContent=p.TextObject.Default;document.querySelector(".select__tag").selectedIndex=0;const t=document.querySelector(".cards__products");t.innerHTML="",this.filterCards(e,t),localStorage.removeItem("filter");const o=window.location.href,r=o.split("#"),n=r[r.length-1];"main-page"!==n&&(window.location.href=o.replace(n,"main-page"))})),t}))}createFilters(){const t=this.createPageBlock("aside","filters"),e=this.createPageBlock("div","filters__buttons");return this.createFiltersButtons(e),t.append(e),this.createMultiRangeSlider(t,"Price","10","1749"),this.createMultiRangeSlider(t,"Stock","2","150"),this.getCategories(t),this.getBrand(t),t}createCardsSelect(t){const e=this.createPageBlock("div","sort__select","select"),o=this.createPageBlock("span","select__text");o.textContent="Sort by:";const r=this.createPageBlock("div","select__wrap"),n=this.createPageBlock("select","select__tag"),c=this.createPageBlock("option","select__option");c.setAttribute("value",d.Filters.Default),c.textContent=p.TextObject.Default;const a=this.createPageBlock("option","select__option");a.setAttribute("value",d.Filters.PriceUp),a.textContent=p.TextObject.PriceUp;const i=this.createPageBlock("option","select__option");i.setAttribute("value",d.Filters.PriceDown),i.textContent=p.TextObject.PriceDown;const s=this.createPageBlock("option","select__option");s.setAttribute("value",d.Filters.DiscountUp),s.textContent=p.TextObject.DiscountUp;const l=this.createPageBlock("option","select__option");l.setAttribute("value",d.Filters.DiscountDown),l.textContent=p.TextObject.DiscountDown;const u=this.createPageBlock("option","select__option");u.setAttribute("value",d.Filters.RatingUp),u.textContent=p.TextObject.RatingUp;const g=this.createPageBlock("option","select__option");g.setAttribute("value",d.Filters.RatingDown),g.textContent=p.TextObject.RatingDown,n.append(c,a,i,s,l,u,g),r.append(n),e.append(o,r),t.append(e);const _=localStorage.getItem("filter");if(_){const t=JSON.parse(_);n.selectedIndex=Number(t[0])}else n.selectedIndex=0}createFound(t){const e=this.createPageBlock("div","cards__found"),o=this.createPageBlock("span","cards__found-text");o.textContent="Found:";const r=this.createPageBlock("span","cards__found-info");r.textContent="100",e.append(o,r),t.append(e)}createSearch(t){const e=this.createPageBlock("div","cards__search"),o=this.createPageBlock("input","cards__search-input");o.setAttribute("type","search"),o.setAttribute("placeholder","Search product"),e.append(o),t.append(e)}createShowMore(t){const e=this.createPageBlock("div","cards__show"),o=this.createPageBlock("div","cards__show-text");o.textContent="Show more",e.append(o),t.append(e)}createCardsSort(t){const e=this.createPageBlock("div","cards__sort","sort");this.createCardsSelect(e),this.createFound(e),this.createSearch(e),this.createShowMore(e),t.append(e)}filterCards(t,e){return t.forEach((t=>{const o=this.createPageBlock("div","cards__card","products__card"),r=this.createPageBlock("h3","products__title");r.textContent=t.title;const n=this.createPageBlock("div","products__items"),c=this.createPageBlock("div","products__image");c.style.background=`url('${t.images[0]}') 0 0/cover no-repeat`;const a=this.createPageBlock("div","products__text"),i=this.createPageBlock("div","products__info"),s=this.createPageBlock("div","products__stock");s.textContent=`Stock: ${t.stock}`;const l=this.createPageBlock("div","products__price");l.textContent=`Price: $ ${t.price}`;const d=this.createPageBlock("div","products__discount");d.textContent=`Discount: ${t.discountPercentage}%`;const p=this.createPageBlock("div","products__rating","rating"),g=this.createPageBlock("div","rating__body"),_=this.createPageBlock("div","rating__active"),h=this.createPageBlock("div","rating__items");for(let t=0;t<5;t+=1){const e=this.createPageBlock("input","rating__item");e.setAttribute("type","radio"),e.setAttribute("value",`${t+1}`),e.setAttribute("name","rating"),h.append(e)}const m=this.createPageBlock("div","rating__value");m.textContent=`${t.rating}`,function(t=m.innerHTML){const e=Number(t)/.05;_.style.width=`${e}%`}();const f=this.createPageBlock("div","products__buttons"),P=this.createPageBlock("button","products__button","products__add");P.textContent="Add to Cart",P.onclick=()=>{const e=JSON.parse(localStorage.getItem(u.LocalStorageKey.productsInCart)||"{}");t.id in e?e[t.id].count+=1:e[t.id]={count:1,product:t};const o=Object.values(e),r=o.reduce(((t,e)=>t+e.count*e.product.price),0),n=o.reduce(((t,e)=>t+e.count),0);localStorage.setItem(u.LocalStorageKey.productsInCart,JSON.stringify(e));const c=document.querySelector(".header__total"),a=document.querySelector(".header__sum-total");c.textContent=String(n),a.textContent=String(r)};const k=this.createPageBlock("button","products__button","products__details");k.textContent="Details",k.onclick=function(){window.location.hash=`description-page/${t.id}`},f.append(P,k),g.append(_,h),p.append(g,m),i.append(s,l,d,p),a.append(i,f),n.append(c,a),o.append(r,n),e.append(o)}))}createCardsProducts(t){return a(this,void 0,void 0,(function*(){const e=this.createPageBlock("div","cards__container"),o=this.createPageBlock("h1","cards__title","title");o.textContent=p.TextObject.Default;const r=this.createPageBlock("div","cards__products","products"),n=yield this.getPageData();let c=n.products;const a=window.location.hash.slice(1).split("/"),i=a[a.length-1];i&&l(i);const s=localStorage.getItem("filter");if(s){const e=JSON.parse(s);t.dataset.filter=e[1],l(e[1])}function l(t){switch(t){case d.Filters.Default:r.innerHTML="",o.textContent=p.TextObject.Default,e=n.products,c=e.sort(((t,e)=>t.id>e.id?1:-1)),localStorage.setItem("filter",JSON.stringify([d.FiltersId.Default,d.Filters.Default]));break;case d.Filters.PriceUp:r.innerHTML="",o.textContent=p.TextObject.PriceUp,c=function(t){return t.sort(((t,e)=>t.price>e.price?1:-1))}(n.products),localStorage.setItem("filter",JSON.stringify([d.FiltersId.PriceUp,d.Filters.PriceUp]));break;case d.Filters.PriceDown:r.innerHTML="",o.textContent=p.TextObject.PriceDown,c=function(t){return t.sort(((t,e)=>t.price<e.price?1:-1))}(n.products),localStorage.setItem("filter",JSON.stringify([d.FiltersId.PriceDown,d.Filters.PriceDown]));break;case d.Filters.DiscountUp:r.innerHTML="",o.textContent=p.TextObject.DiscountUp,c=function(t){return t.sort(((t,e)=>t.discountPercentage>e.discountPercentage?1:-1))}(n.products),localStorage.setItem("filter",JSON.stringify([d.FiltersId.DiscountUp,d.Filters.DiscountUp]));break;case d.Filters.DiscountDown:r.innerHTML="",o.textContent=p.TextObject.DiscountDown,c=function(t){return t.sort(((t,e)=>t.discountPercentage<e.discountPercentage?1:-1))}(n.products),localStorage.setItem("filter",JSON.stringify([d.FiltersId.DiscountDown,d.Filters.DiscountDown]));break;case d.Filters.RatingUp:r.innerHTML="",o.textContent=p.TextObject.RatingUp,c=function(t){return t.sort(((t,e)=>t.rating>e.rating?1:-1))}(n.products),localStorage.setItem("filter",JSON.stringify([d.FiltersId.RatingUp,d.Filters.RatingUp]));break;case d.Filters.RatingDown:r.innerHTML="",o.textContent=p.TextObject.RatingDown,c=function(t){return t.sort(((t,e)=>t.rating<e.rating?1:-1))}(n.products),localStorage.setItem("filter",JSON.stringify([d.FiltersId.RatingDown,d.Filters.RatingDown]))}var e}this.filterCards(c,r);const u=document.querySelector(".select__tag");u.value&&u.addEventListener("change",(e=>{const n=e.target,a=n.value,i=window.location.href,s=window.location.hash.slice(1).split("/");let u;switch(s[s.length-1]){case"":window.location.href=`${i}#main-page/${a}`;break;case"main-page":window.location.href=`${i}/${a}`;break;case d.Filters.Default:u=/default/g,window.location.href=i.replace(u,a);break;case d.Filters.PriceUp:u=/price-up/g,window.location.href=i.replace(u,a);break;case d.Filters.PriceDown:u=/price-down/g,window.location.href=i.replace(u,a);break;case d.Filters.DiscountUp:u=/discount-up/g,window.location.href=i.replace(u,a);break;case d.Filters.DiscountDown:u=/discount-down/g,window.location.href=i.replace(u,a);break;case d.Filters.RatingUp:u=/rating-up/g,window.location.href=i.replace(u,a);break;case d.Filters.RatingDown:u=/rating-down/g,window.location.href=i.replace(u,a)}n&&o&&(t.dataset.filter=a,l(a),this.filterCards(c,r))})),e.append(o,r),t.append(e)}))}createCads(){const t=this.createPageBlock("section","cards");return t.dataset.filter=d.Filters.Default,this.createCardsSort(t),this.createCardsProducts(t),t}render(){var t;const e=this.createPageBlock("div","wrapper"),o=this.createFilters(),r=this.createCads();return e.append(r,o),null===(t=this.main)||void 0===t||t.append(e),this.main}}p.TextObject={Default:"All Categories",PriceUp:"Price Range Up",PriceDown:"Price Range Down",DiscountUp:"Discount Range Up",DiscountDown:"Discount Range Down",RatingUp:"Rating Range Up",RatingDown:"Rating Range Down"},e.default=p}},o={};function r(t){var n=o[t];if(void 0!==n)return n.exports;var c=o[t]={exports:{}};return e[t].call(c.exports,c,c.exports,r),c.exports}r.m=e,t=[],r.O=(e,o,n,c)=>{if(!o){var a=1/0;for(d=0;d<t.length;d++){for(var[o,n,c]=t[d],i=!0,s=0;s<o.length;s++)(!1&c||a>=c)&&Object.keys(r.O).every((t=>r.O[t](o[s])))?o.splice(s--,1):(i=!1,c<a&&(a=c));if(i){t.splice(d--,1);var l=n();void 0!==l&&(e=l)}}return e}c=c||0;for(var d=t.length;d>0&&t[d-1][2]>c;d--)t[d]=t[d-1];t[d]=[o,n,c]},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{var t={179:0};r.O.j=e=>0===t[e];var e=(e,o)=>{var n,c,[a,i,s]=o,l=0;if(a.some((e=>0!==t[e]))){for(n in i)r.o(i,n)&&(r.m[n]=i[n]);if(s)var d=s(r)}for(e&&e(o);l<a.length;l++)c=a[l],r.o(t,c)&&t[c]&&t[c][0](),t[c]=0;return r.O(d)},o=self.webpackChunk=self.webpackChunk||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))})();var n=r.O(void 0,[390],(()=>r(303)));n=r.O(n)})();